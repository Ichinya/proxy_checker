# proxy_checker
[![Docker](https://github.com/Ichinya/proxy_checker/actions/workflows/docker-publish.yml/badge.svg)](https://github.com/Ichinya/proxy_checker/actions/workflows/docker-publish.yml)

Проверка работоспособности прокси на Python. Текущая скорость примерно 0.7 прокси в секунду. За сутки проверяется примерно 19,2к прокси

## Настройки
Пример настроек находится в `.env.example`, для использования его нужно переименовать в `.evn`. Поменять можно:
* уровень логов вывода в консоль
* уровень логов записи в файл
* файл логов

## Примеры работы
### Командная строка

Не забываем, что используется вывод информации по умолчанию. Отключить можно через настройку `LOG_LEVEL_OUT=50` в файле `.env`

**Справка**
```shell
python main.py -h
```

**Проверка прокси**
```shell
python main.py socks5://72.195.114.169:4145
```
Ответ:
```json
{"result": true, "proxy": "socks5://72.195.114.169:4145"}
```

**Проверка списка прокси**
```shell
python main.py -a=list -l=socks5://72.195.114.169:4145,socks5://72.195.114.162:4145
```
Ответ будет вида
```json
{"socks5://72.195.114.169:4145": true, "socks5://72.195.114.162:4145": false}
```

**Подключение к очереди MQ**

Для подключения используется переменная окружения `AMQP_URL`. Приоритет от большего к меньшему: docker-compose, docker, файл .env
```shell
python main.py -a=mq
```

## Проверка
Запрашивается сайт один из сайтов проверки (на данный момент их более 4), потом запрашивается этот же сайт через прокси. Если ip отличаются, то прокси работает

## В разработке
* проверка файла с прокси
* добавление Latency при проверке